---
apiVersion: kubeadm.k8s.io/v1beta3
kind: ClusterConfiguration
networking:
  podSubnet: {{ pod_network_cidr }}
clusterName: {{ k8s_cluster_name }}

---
apiVersion: kubeadm.k8s.io/v1beta3
kind: InitConfiguration
nodeRegistration:
  criSocket: {{ cri_socket }}

---
apiVersion: kubelet.config.k8s.io/v1beta1
kind: KubeletConfiguration
resolvConf: {{ k8s_resolve_conf }}
cpuManagerPolicy: {{ k8s_cpu_manager_policy }}
{% if k8s_cpu_manager_policy == 'static' %}
reservedSystemCPUs: 1
{% endif %}
